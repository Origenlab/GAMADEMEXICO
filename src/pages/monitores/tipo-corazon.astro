---
import Layout from '../../layouts/Base.astro';
import '../../styles/subcategory.css';
import { getCollection } from 'astro:content';
import SubcategoryProductCard from '../../components/SubcategoryProductCard.astro';
import ProductSidebar from '../../components/ProductSidebar.astro';
import RelatedProductsGrid from '../../components/RelatedProductsGrid.astro';
import CotizacionForm from '../../components/CotizacionForm.astro';

// Obtener productos de monitores
const todosMonitores = (await getCollection('productos', ({ data }) => data.categoria === 'monitores')).sort((a, b) => a.data.orden - b.data.orden);

// Filtrar productos tipo coraz칩n por subcategoria
const productosCorazon = todosMonitores.filter(p => p.data.subcategoria === 'tipo-corazon');

// Otros monitores para la secci칩n de relacionados
const otrosMonitores = todosMonitores.filter(p => !productosCorazon.includes(p));

// Definir las subcategor칤as de monitores para el sidebar
const subcategorias = [
  {
    slug: 'tipo-corazon',
    nombre: 'Monitor Tipo Coraz칩n',
    descripcion: 'Protecci칩n perimetral 360춿',
    activo: true
  },
  {
    slug: 'cuello-cisne',
    nombre: 'Monitor Cuello de Cisne',
    descripcion: 'Protecci칩n de tanques elevados',
    activo: false
  },
  {
    slug: 'certificado-fm',
    nombre: 'Monitor Certificado FM',
    descripcion: 'Aprobaci칩n Factory Mutual',
    activo: false
  },
  {
    slug: 'ul-listed',
    nombre: 'Monitor UL Listed',
    descripcion: 'Certificaci칩n Underwriters Labs',
    activo: false
  },
];

---

<Layout
  title="Monitor Tipo Coraz칩n 360춿 | Venta M칠xico"
  description="Monitor tipo coraz칩n doble cremallera. Giro 360춿 horizontal, 120춿 vertical. Caudal 500-2000 GPM. Bronce fundido Elkhart Brass. Cotizaci칩n M칠xico."
  activePage="equipos"
  heroTitle="Monitor Tipo Coraz칩n"
  heroIntro="Monitores fijos de alta capacidad con rotaci칩n horizontal de 360춿 y elevaci칩n vertical de hasta 150춿. Dise침ados para protecci칩n perimetral en refiner칤as, plantas petroqu칤micas y terminales de almacenamiento. Manejamos Elkhart Brass, ARMECO y Joperz con certificaciones FM, UL y NFPA."
  heroBadge="Monitores Contra Incendios"
  heroMetrics={[
    { valor: "360춿", texto: "Giro horizontal" },
    { valor: "150춿", texto: "Elevaci칩n vertical" },
    { valor: "1,250", texto: "GPM m치ximo" }
  ]}
  heroPrimaryText="Ver Cat치logo"
  heroPrimaryLink="#catalogo"
  heroSecondaryText="Solicitar Cotizaci칩n"
  heroSecondaryLink="#cotizar"
  heroShowRightContent={true}
>

  <!-- HERO CONTENT -->
  <Fragment slot="hero-content">
    <p>El <strong>monitor tipo coraz칩n</strong> es el est치ndar de la industria para protecci칩n perimetral en instalaciones de alto riesgo. Su dise침o de doble cremallera permite una rotaci칩n horizontal completa de 360춿 y elevaci칩n vertical controlada, lo que garantiza cobertura total desde un punto fijo. Fabricados en bronce fundido o aluminio de grado marino, estos monitores operan a presiones de trabajo entre 100 y 150 PSI con caudales que van desde 250 hasta 1,250 GPM seg칰n el modelo y boquilla seleccionada.</p>
    <p>En <strong>Gama de M칠xico</strong> distribuimos monitores tipo coraz칩n de Elkhart Brass, ARMECO y Joperz con certificaciones FM, UL y cumplimiento NFPA 11/15. Asesoramos en la selecci칩n del modelo correcto seg칰n las caracter칤sticas de tu proyecto: tipo de riesgo, distancia de alcance requerida, agente extintor (agua o espuma) y condiciones ambientales. Atendemos refiner칤as, plantas petroqu칤micas, terminales de almacenamiento, muelles industriales y hangares de aviaci칩n en toda la Rep칰blica Mexicana.</p>
  </Fragment>

  <!-- MAIN CONTENT WITH SIDEBAR -->
  <section class="subcat-content">
    <div class="container">
      <div class="subcat-layout">

        <!-- MAIN CONTENT (LEFT) -->
        <main class="subcat-main">

          <!-- CATALOG HEADER -->
          <div class="catalog-header" id="catalogo">
            <div class="catalog-header__text">
              <h2 class="catalog-header__title">Cat치logo de Monitores Tipo Coraz칩n</h2>
              <p class="catalog-header__desc">Selecciona el producto que mejor se adapte a tu proyecto industrial</p>
            </div>
            <div class="catalog-header__count">
              <span class="catalog-header__number">{productosCorazon.length}</span>
              <span class="catalog-header__label">producto{productosCorazon.length !== 1 ? 's' : ''}</span>
            </div>
          </div>

          <!-- PRODUCTS GRID -->
          <div class="categories__grid">
            {productosCorazon.map((producto) => (
              <SubcategoryProductCard
                title={producto.data.title}
                description={producto.data.description}
                brand={producto.data.marca}
                image={producto.data.imagen}
                productSlug={producto.id}
                flow={producto.data.flujo}
                material={producto.data.material}
                certifications={producto.data.certificaciones}
              />
            ))}
          </div>

          {productosCorazon.length === 0 && (
            <div class="catalog-empty">
              <div class="catalog-empty__icon">游댌</div>
              <h3 class="catalog-empty__title">Pr칩ximamente m치s opciones</h3>
              <p class="catalog-empty__text">Estamos agregando m치s productos de monitores tipo coraz칩n de diferentes marcas. Mientras tanto, solicita una cotizaci칩n personalizada.</p>
              <a href="#cotizar" class="btn btn--primary">Solicitar Cotizaci칩n</a>
            </div>
          )}

          <!-- TECHNICAL INFO -->
          <div class="tech-info">
            <h3 class="tech-info__title">Especificaciones T칠cnicas del Monitor Tipo Coraz칩n</h3>
            <div class="tech-info__grid">
              <div class="tech-info__item">
                <span class="tech-info__label">Caudal</span>
                <span class="tech-info__value">250 - 1000 GPM</span>
              </div>
              <div class="tech-info__item">
                <span class="tech-info__label">Giro horizontal</span>
                <span class="tech-info__value">360춿 por manivela</span>
              </div>
              <div class="tech-info__item">
                <span class="tech-info__label">Giro vertical</span>
                <span class="tech-info__value">120춿 accionado</span>
              </div>
              <div class="tech-info__item">
                <span class="tech-info__label">Base bridada</span>
                <span class="tech-info__value">4" cara realzada</span>
              </div>
              <div class="tech-info__item">
                <span class="tech-info__label">Salida macho</span>
                <span class="tech-info__value">2.5" NST/NSHT</span>
              </div>
              <div class="tech-info__item">
                <span class="tech-info__label">Material</span>
                <span class="tech-info__value">Bronce fundido</span>
              </div>
            </div>
          </div>

        </main>

        <!-- SIDEBAR (RIGHT) -->
        <ProductSidebar
          navTitulo="Tipos de Monitores"
          subcategorias={subcategorias}
          baseUrl="/monitores"
          backLinkHref="/monitores-contra-incendios"
          backLinkTexto="Ver todos los monitores"
          certificaciones={[
            { siglas: "FM", nombre: "Factory Mutual" },
            { siglas: "UL", nombre: "UL Listed" },
            { siglas: "NOM", nombre: "NOM-002-STPS" }
          ]}
          marcas={["Elkhart Brass", "Akron Brass", "Task Force Tips", "POK"]}
          aplicaciones={[
            "Refiner칤as",
            "Plantas petroqu칤micas",
            "Terminales de almacenamiento",
            "Muelles y puertos",
            "Hangares de aviaci칩n",
            "Plantas qu칤micas"
          ]}
          productosRelacionados={[
            { href: "/boquillas-contra-incendios", nombre: "Boquillas Contra Incendios" },
            { href: "/mangueras-contra-incendios", nombre: "Mangueras Contra Incendios" },
            { href: "/valvulas-contra-incendios", nombre: "V치lvulas Contra Incendios" },
            { href: "/conexiones-herrajes-contra-incendios", nombre: "Conexiones y Herrajes" }
          ]}
        />

      </div>
    </div>
  </section>

  <!-- RELATED MONITORS -->
  <RelatedProductsGrid
    titulo="Otros Tipos de Monitores"
    subtitulo="Explora m치s opciones seg칰n tu aplicaci칩n espec칤fica"
    productos={otrosMonitores}
    maxProductos={3}
    verTodosLink="/monitores-contra-incendios"
    verTodosTexto="Ver todos los monitores"
  />

  <CotizacionForm
    titulo="Cotiza Monitores Tipo Corazon"
    tipoEquipo="Monitores"
    pagina="Monitores Tipo Corazon"
  />

</Layout>

<!-- Los estilos de subcategor칤a est치n en /src/styles/subcategory.css -->
